
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel Financiero</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #F5F8F9; padding: 20px; }
        .dashboard { max-width: 1100px; margin: auto; }
        .header { border-bottom: 3px solid #9BC7EC; margin-bottom: 30px; padding-bottom: 10px; color: #7FC6D7; }
        
        /* Contenedor de Tarjetas */
        .cards-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px; }
        .card { padding: 25px; border-radius: 12px; border: 1px solid #AFD6F8; color: white; text-align: center; }
        
        .card-ingresos { background-color: #9BC7EC; } /* Azul fuerte de tu paleta */
        .card-pendientes { background-color: #7FC6D7; } /* Azul medio */
        .card-devoluciones { background-color: #C1DDF3; color: #5a8da0; } /* Azul claro */
        
        .card h3 { margin: 0; font-size: 14px; text-transform: uppercase; opacity: 0.9; }
        .card p { margin: 10px 0 0; font-size: 32px; font-weight: bold; }

        /* Tabla de transacciones */
        .table-container { background: white; padding: 20px; border-radius: 10px; border: 1px solid #CEEAF6; }
        table { width: 100%; border-collapse: collapse; }
        th { text-align: left; padding: 12px; background: #E2F1F7; color: #7FC6D7; border-bottom: 2px solid #9BC7EC; }
        td { padding: 12px; border-bottom: 1px solid #F3FDFE; }
        .status-badge { padding: 4px 10px; border-radius: 20px; font-size: 12px; font-weight: bold; }
        .Entregado { background: #CEEDED; color: #2d6a4f; }
        .Pendiente { background: #F3FDFE; color: #5a8da0; }
    </style>
</head>
<body>

<div class="dashboard">
    <div class="header">
        <h1>ðŸ“Š Balance Financiero Real</h1>
    </div>

    <div class="cards-container">
        <div class="card card-ingresos">
            <h3>Ingresos Netos (Entregados)</h3>
            <p>${{ ingresos|floatformat:2 }}</p>
        </div>
        <div class="card card-pendientes">
            <h3>Cuentas por Cobrar (En camino)</h3>
            <p>${{ pendientes_monto|floatformat:2 }}</p>
        </div>
        <div class="card card-devoluciones">
            <h3>PÃ©rdidas por DevoluciÃ³n</h3>
            <p>${{ devoluciones_monto|floatformat:2 }}</p>
        </div>
    </div>

    <div class="table-container">
        <h3>Ãšltimas Transacciones</h3>
        <table>
            <thead>
                <tr>
                    <th>Orden</th>
                    <th>Cliente</th>
                    <th>Subtotal</th>
                    <th>IVA</th>
                    <th>Total</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody>
                {% for pedido in facturas %}
                <tr>
                    <td>#00{{ pedido.id }}</td>
                    <td>{{ pedido.cliente.username }}</td>
                    <td>${{ pedido.subtotal }}</td>
                    <td>${{ pedido.iva_aplicado }}%</td>
                    <td><strong>${{ pedido.total }}</strong></td>
                    <td><span class="status-badge {{ pedido.estado }}">{{ pedido.estado }}</span></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
